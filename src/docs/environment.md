# 開発環境について

## 準備
gulpfile.jsのある階層へ移動して以下コマンドを実行
```
npm install
```

以下コマンドを実行を実行してブラウザが立ち上がれば準備完了
```
nxp gulp
```



## 概要
開発用フォルダと本番用フォルダを連携して管理できるようにGulpを構築している。
基本的には開発用フォルダで作業をする。

Gulp実行中は開発用フォルダ内で更新した"ejs","sass"ファイルがコンパイルされ、自動的に本番フォルダの対応した場所に作成される。
※ 画像ファイルに関してはコピーする機能を実装していないので手動でコピーが必要

```
root/
┣ htdocs (本番用フォルダ)
┃　↑
┃　↑ コンパイルしたファイルを自動的に対応した場所へ作成
┃　↑
┗ src (開発用フォルダ)
```

## 開発用フォルダ構成
HTMLは"ejs"ファイル、CSSは"sass"ファイルをコンパイルして作成する。

### ejsファイル
本番サーバーに公開するHTML内のリンクはサーバーのURLを含む必要がある。
しかし、ローカルで作業作業をしている時は、サーバーURLを含んだリンクは動作しない。
そこで、本番用と開発用でそれぞれ異なるリンクのHTMLファイルを作成するようGulpを設定している。

本番用・開発用それぞれ共通のパーシャルファイルを読み込んで作成する。
コンパイルしたHTMLファイルはそれぞれのフォルダ直下に作成される。

■ 本番用ファイル
- "main_"を接頭辞に含んだファイル名でejsファイルを作成する。
- パーシャルファイルを読み込み、引数にサーバーのルートパスを指定する。


■ 開発用ファイル
- "dev_"を接頭辞に含んだファイル名でejsファイルを作成する。
- パーシャルファイルを読み込み、引数に開発環境のルートパスを指定する。

### sassファイル
"style.css"に他のパーシャルファイルを読み込んでコンパイルする